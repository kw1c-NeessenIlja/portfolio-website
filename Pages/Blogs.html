<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alle Blogs & Projecten - Ilja Neessen</title>

<!-- Markdown rendering -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<!-- Supabase Client -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- External Stylesheet -->
<link rel="stylesheet" href="../Styles/StylesheetBlogs.css">
</head>
<body>

<header>
<h1>Blogs & Projecten - Ilja Neessen</h1>
<div class="header-controls">
    <span id="userInfo" class="user-info hidden"></span>
    <button id="authBtn" class="btn btn-primary" onclick="toggleAuth()">Admin Login</button>
    <nav>
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="DMX_Demo.html">Stage</a></li>
            <li><a href="AboutMe.html">Over Mij</a></li>
        </ul>
    </nav>
</div>
</header>

<main>

<input type="text" id="searchBlogs" placeholder="ğŸ” Zoek blogs/projects..." oninput="filterBlogs()">

<div class="login-box hidden" id="loginBox">
    <h2>ğŸ”’ Admin Login</h2>
    <div id="loginError"></div>
    <input type="text" id="username" placeholder="Gebruikersnaam">
    <input type="password" id="password" placeholder="Wachtwoord">
    <button class="btn btn-primary" onclick="login()">Inloggen</button>
    <p style="color:#6B7280;font-size:14px;text-align:center;margin-top:10px;">Hint: admin/admin123</p>
</div>

<div class="admin-panel hidden" id="adminPanel">
    <h3>ğŸ”§ Admin Panel</h3>
    <button class="btn btn-success" onclick="toggleAddBlog()">â• Nieuwe Blog/Project</button>
    <div id="addBlogForm" class="hidden">
        <div id="addBlogError"></div>
        <input type="text" id="blogTitle" placeholder="Blog titel">
        <textarea id="blogContent" placeholder="Blog inhoud (Markdown ondersteund)"></textarea>
        <input type="text" id="blogTags" placeholder="Tags (comma separated)">
        <label class="file-input-label">
            ğŸ–¼ï¸ Afbeelding Uploaden
            <input type="file" id="blogImage" accept="image/*" style="display:none;" onchange="previewImage()">
        </label>
        <div id="imagePreview"></div>

        <label class="file-input-label">
            ğŸ“¦ Project Uploaden (.zip)
            <input type="file" id="blogFile" accept=".zip" style="display:none;" onchange="previewFile()">
        </label>
        <div id="filePreview"></div>

        <input type="datetime-local" id="blogDate" placeholder="Datum en tijd (optioneel)">
        <button class="btn btn-success" onclick="addBlog()">Publiceren</button>
        <button class="btn" style="background:#6B7280;color:white;margin-top:5px;" onclick="cancelAddBlog()">Annuleren</button>
    </div>
</div>

<div id="blogsContainer"><p class="loading">Blogs laden...</p></div>
</main>

<footer>&copy; 2025 Ilja Neessen</footer>

<div id="blogModal">
    <div>
        <span onclick="closeModal()">&times;</span>
        <img id="modalImage" class="hidden">
        <h2 id="modalTitle"></h2>
        <p id="modalDate"></p>
        <div id="modalContent"></div>
        <div id="modalTags"></div>
        <a id="modalFile" class="hidden" download></a>
    </div>
</div>

<!-- External JavaScript -->
<script src="../Scripts/BlogsScript.js"></script>

</body>
</html>